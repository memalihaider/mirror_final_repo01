(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{30347:()=>{},40283:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,O:()=>d});var s=r(95155),a=r(12115),l=r(79323),o=r(56104);let i=(0,a.createContext)({user:null,userRole:null,loading:!0,isAdmin:!1,error:null,accessiblePages:[],canAccessPage:()=>!1}),n=()=>(0,a.useContext)(i),d=e=>{let{children:t}=e,[r,n]=(0,a.useState)(null),[d,c]=(0,a.useState)(null),[u,m]=(0,a.useState)(!0),[h,x]=(0,a.useState)(null),[b,g]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e,t=!0;return(async()=>{try{m(!0),await (0,o.AU)(),e=(0,l.Bh)(async e=>{if(t){if(n(e),x(null),e)try{let r=await (0,l.uG)(e.uid);if(!r&&e.email){let t="ahmadxeikh786@gmail.com"===e.email?"admin":"user";await (0,l.yS)(e.uid,e.email,t,e.displayName||void 0,[]),r=await (0,l.uG)(e.uid)}(null==r?void 0:r.role)!=="admin"&&"ahmadxeikh786@gmail.com"===e.email&&(await (0,l.yS)(e.uid,e.email,"admin",e.displayName||void 0,[]),r=await (0,l.uG)(e.uid)),t&&(c(r),g((null==r?void 0:r.accessPages)||[]))}catch(e){console.error("Error getting user role:",e),t&&x("Failed to load user role")}else t&&(c(null),g([]));t&&m(!1)}})}catch(e){console.error("Firebase initialization error:",e),t&&(x("Failed to initialize authentication"),m(!1))}})(),()=>{t=!1,e&&e()}},[]);let p=(null==d?void 0:d.role)==="admin";return(0,s.jsx)(i.Provider,{value:{user:r,userRole:d,loading:u,isAdmin:p,error:h,accessiblePages:b,canAccessPage:e=>!!d&&("admin"===d.role||b.includes(e))},children:t})}},51750:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,65356,23)),Promise.resolve().then(r.t.bind(r,30347,23)),Promise.resolve().then(r.bind(r,98706))},98706:(e,t,r)=>{"use strict";r.d(t,{default:()=>J});var s=r(95155),a=r(12115),l=r(35695),o=r(73783),i=r(14395),n=r(69074),d=r(27809),c=r(33109),u=r(71366),m=r(23227),h=r(81586),x=r(57434),b=r(55670),g=r(25273),p=r(72713),f=r(79772),v=r(17580),y=r(381),w=r(66474),k=r(13052),E=r(52596),j=r(39688);function N(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,j.QP)((0,E.$)(t))}var S=r(54675),A=r.n(S),P=r(38274),C=r(60760),I=r(37040);function z(e){let{delayDuration:t=0,...r}=e;return(0,s.jsx)(I.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...r})}function L(e){let{...t}=e;return(0,s.jsx)(z,{children:(0,s.jsx)(I.bL,{"data-slot":"tooltip",...t})})}function M(e){let{...t}=e;return(0,s.jsx)(I.l9,{"data-slot":"tooltip-trigger",...t})}function R(e){let{className:t,sideOffset:r=0,children:a,...l}=e;return(0,s.jsx)(I.ZL,{children:(0,s.jsxs)(I.UC,{"data-slot":"tooltip-content",sideOffset:r,className:N("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...l,children:[a,(0,s.jsx)(I.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}let D=[{icon:o.A,label:"Dashboard",href:"/",roles:["admin","user"]},{icon:i.A,label:"Product Management",href:"/products",roles:["admin","user"],subItems:[{label:"Categories",href:"/catagories"},{label:"Services",href:"/services"},{label:"Offers & Promotions",href:"/offers"}]},{icon:n.A,label:"Appointment Management",href:"/bookings",roles:["admin"],subItems:[]},{icon:d.A,label:"E-commerce",href:"/ecommerce",roles:["admin","user"],subItems:[]},{icon:c.A,label:"Sales Analytics",href:"/sales",roles:["admin","user"],subItems:[]},{icon:u.A,label:"Customer Support",href:"/chat",roles:["admin"],subItems:[]},{icon:m.A,label:"Branch Management",href:"/branches",roles:["admin","user"],subItems:[]},{icon:h.A,label:"Membership Plans",href:"/membership",roles:["admin","user"],subItems:[]},{icon:x.A,label:"Membership Reports",href:"/membershipReport",roles:["admin","user"],subItems:[]},{icon:b.A,label:"Staff Management",href:"/staff",roles:["admin","user"],subItems:[]},{icon:g.A,label:"Daily Tasks",href:"/staffDailyTasks",roles:["admin","user"],subItems:[]},{icon:p.A,label:"Business Reports",href:"/reports",roles:["admin","user"],subItems:[]},{icon:f.A,label:"Customer Management",href:"/customers",roles:["admin","user"],subItems:[]},{icon:v.A,label:"User Administration",href:"/users",roles:["admin"],subItems:[]},{icon:y.A,label:"Profile Settings",href:"/profile",roles:["admin","user"],subItems:[]}];function O(e){let{collapsed:t}=e,r=(0,l.usePathname)(),o=(0,l.useRouter)(),[i,n]=(0,a.useState)([]),[d,c]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{c("dark"===localStorage.getItem("theme"));let e=new MutationObserver(()=>{c(document.documentElement.classList.contains("dark"))});return e.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>e.disconnect()},[]),"/signin"===r)?null:(0,s.jsx)(P.P.div,{initial:!1,animate:{width:t?"56px":"200px",transition:"width 0.3s ease-out"},className:N("fixed left-0 top-0 z-30 h-full flex flex-col transition-all duration-300 ease-out",d?"bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 border-r border-slate-700/50 shadow-2xl shadow-black/20":"bg-gradient-to-b from-white via-slate-50/80 to-white border-r border-slate-200/60 shadow-2xl shadow-slate-900/10 backdrop-blur-sm"),children:(0,s.jsxs)("div",{className:"relative z-10 flex flex-col h-full",children:[(0,s.jsx)(P.P.div,{className:N("flex-shrink-0 flex items-center justify-center py-4 mb-4 mx-2 mt-2 rounded-xl transition-all duration-300",d?"bg-gradient-to-r from-pink-900/50 to-pink-800/50 border border-pink-700/50 shadow-lg shadow-black/20":"bg-gradient-to-r from-pink-50 to-pink-100 border border-pink-200/80 shadow-lg shadow-pink-900/5"),layout:!0,transition:{duration:.2},children:(0,s.jsx)("span",{suppressHydrationWarning:!0,className:N(t?"text-xs font-bold":"text-sm font-bold",A().className,d?"text-pink-200":"bg-clip-text text-transparent bg-gradient-to-r from-pink-600 to-pink-500"),children:t?"M":"Mirrors"})}),(0,s.jsx)("div",{className:"overflow-y-auto px-3 flex-1 space-y-1",children:(0,s.jsx)("nav",{className:"flex flex-col space-y-2",children:D.map((e,a)=>{let{icon:l,label:c,href:u,subItems:m=[]}=e,h="/dashboard"===u?"/"===r||"/dashboard"===r:r.startsWith(u),x=i.includes(u);return(0,s.jsxs)("div",{children:[(0,s.jsx)(P.P.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},children:(0,s.jsxs)(P.P.div,{layout:!0,transition:{duration:.2},onClick:()=>m.length?void n(e=>e.includes(u)?e.filter(e=>e!==u):[...e,u]):o.push(u),suppressHydrationWarning:!0,className:N("flex items-center px-4 py-3 rounded-xl cursor-pointer transition-all duration-300 group",t&&"justify-center px-3",h?d?"bg-gradient-to-r from-[#E60076]/20 to-[#E60076]/30 text-[#E60076] border border-[#E60076]/30 shadow-lg shadow-[#E60076]/10":"bg-gradient-to-r from-[#E60076]/10 to-[#E60076]/20 text-[#E60076] border border-[#E60076]/30 shadow-lg shadow-[#E60076]/10":d?"text-slate-300 hover:text-white hover:bg-gradient-to-r hover:from-[#E60076]/10 hover:to-[#E60076]/20 hover:border hover:border-[#E60076]/20":"text-slate-600 hover:text-slate-800 hover:bg-gradient-to-r hover:from-[#E60076]/5 hover:to-[#E60076]/10 hover:border hover:border-[#E60076]/20 hover:shadow-md hover:shadow-[#E60076]/5"),children:[(0,s.jsxs)(L,{children:[(0,s.jsx)(M,{asChild:!0,children:(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)(l,{className:N("w-5 h-5 transition-colors duration-300",h?"text-[#E60076]":d?"text-slate-400 group-hover:text-white":"text-slate-500 group-hover:text-slate-700")})})}),t&&(0,s.jsx)(R,{side:"right",className:N("shadow-xl border-0",d?"bg-slate-800 text-white shadow-black/20":"bg-white text-slate-700 shadow-slate-900/10"),children:(0,s.jsx)("span",{className:"font-medium",children:c})})]}),!t&&(0,s.jsxs)(P.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0},className:"flex items-center justify-between w-full ml-4",children:[(0,s.jsx)("span",{className:N("text-xs font-medium tracking-wide",h?d?"text-blue-300":"text-blue-700":d?"text-slate-300 group-hover:text-white":"text-slate-600 group-hover:text-slate-800"),children:c}),m.length>0&&(0,s.jsx)("span",{className:"transition-transform duration-200",children:x?(0,s.jsx)(w.A,{size:16,className:N("transition-colors duration-200",d?"text-slate-400":"text-slate-500")}):(0,s.jsx)(k.A,{size:16,className:N("transition-colors duration-200",d?"text-slate-400":"text-slate-500")})})]})]})}),(0,s.jsx)(C.N,{children:!t&&m.length>0&&x&&(0,s.jsx)(P.P.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"ml-12 mt-2 space-y-1 overflow-hidden",children:m.map((e,t)=>(0,s.jsx)(P.P.li,{whileHover:{x:4},transition:{duration:.15},onClick:()=>o.push(e.href),className:N("px-3 py-2 text-xs rounded-lg cursor-pointer transition-all duration-200 border",r===e.href?d?"bg-[#E60076]/20 text-[#E60076] border-[#E60076]/30":"bg-[#E60076]/10 text-[#E60076] border-[#E60076]/30":d?"text-slate-400 hover:text-white hover:bg-[#E60076]/10 border-transparent hover:border-[#E60076]/20":"text-slate-500 hover:text-slate-700 hover:bg-[#E60076]/5 border-transparent hover:border-[#E60076]/20"),children:e.label},t))})})]},a)})})}),(0,s.jsx)(P.P.div,{layout:!0,className:"mt-6 mb-4 flex justify-center",children:(0,s.jsx)("div",{className:N("w-16 h-1 rounded-full transition-all duration-300",d?"bg-gradient-to-r from-slate-600 to-slate-500 shadow-lg shadow-black/20":"bg-gradient-to-r from-slate-300 to-slate-200 shadow-lg shadow-slate-900/10")})})]})})}function _(e){let{collapsed:t,setCollapsed:r}=e;return(0,a.useEffect)(()=>{let e=()=>{r("true"===localStorage.getItem("sidebar-collapsed"))};return window.addEventListener("toggle-sidebar",e),e(),()=>window.removeEventListener("toggle-sidebar",e)},[r]),(0,s.jsx)(O,{collapsed:t})}var T=r(74783),B=r(23861),F=r(71007),U=r(70306),W=r(48431),H=r.n(W),G=r(47924),Y=r(54416);let q=[{label:"Dashboard",href:"/",keywords:["dashboard","home","overview"]},{label:"Categories",href:"/catagories",keywords:["categories","category","product categories"]},{label:"Services",href:"/services",keywords:["services","salon services","treatments"]},{label:"Offers & Promotions",href:"/offers",keywords:["offers","promotions","deals","discounts"]},{label:"Appointment Management",href:"/bookings",keywords:["appointments","bookings","schedule","calendar"]},{label:"E-commerce",href:"/ecommerce",keywords:["ecommerce","shop","online store","products"]},{label:"Sales Analytics",href:"/sales",keywords:["sales","analytics","revenue","reports"]},{label:"Customer Support",href:"/chat",keywords:["chat","support","messages","customer service"]},{label:"Branch Management",href:"/branches",keywords:["branches","locations","stores"]},{label:"Membership Plans",href:"/membership",keywords:["membership","plans","subscriptions"]},{label:"Membership Reports",href:"/membershipReport",keywords:["membership reports","member analytics"]},{label:"Staff Management",href:"/staff",keywords:["staff","employees","team","workers"]},{label:"Daily Tasks",href:"/staffDailyTasks",keywords:["tasks","daily tasks","staff tasks","assignments"]},{label:"Business Reports",href:"/reports",keywords:["reports","business reports","analytics"]},{label:"Customer Management",href:"/customers",keywords:["customers","clients","customer database"]},{label:"User Administration",href:"/users",keywords:["users","administration","user management"]},{label:"Profile Settings",href:"/profile",keywords:["profile","settings","account","preferences"]}];function K(e){let{className:t}=e,[r,o]=(0,a.useState)(""),[i,n]=(0,a.useState)(!1),[d,c]=(0,a.useState)([]),[u,m]=(0,a.useState)(-1),h=(0,l.useRouter)(),x=(0,a.useRef)(null),b=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(""===r.trim()){c([]),m(-1);return}c(q.filter(e=>{let t=r.toLowerCase();return e.label.toLowerCase().includes(t)||e.keywords.some(e=>e.toLowerCase().includes(t))})),m(-1)},[r]),(0,a.useEffect)(()=>{let e=e=>{if(i&&0!==d.length)switch(e.key){case"ArrowDown":e.preventDefault(),m(e=>e<d.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),m(e=>e>0?e-1:d.length-1);break;case"Enter":e.preventDefault(),u>=0&&d[u]&&g(d[u].href);break;case"Escape":var t;n(!1),null==(t=b.current)||t.blur()}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i,d,u]),(0,a.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let g=e=>{var t;h.push(e),o(""),n(!1),null==(t=b.current)||t.blur()};return(0,s.jsxs)("div",{ref:x,className:N("relative",t),children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(G.A,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})}),(0,s.jsx)("input",{ref:b,type:"text",value:r,onChange:e=>{o(e.target.value),n(!0)},onFocus:()=>n(!0),placeholder:"Search pages...",className:N("w-full pl-10 pr-10 py-2 text-sm","bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm","border border-gray-200/50 dark:border-gray-700/50","rounded-lg shadow-sm","focus:outline-none focus:ring-2 focus:ring-[#E60076]/20 focus:border-[#E60076]/50","placeholder-gray-400 dark:placeholder-gray-500","text-gray-900 dark:text-gray-100","transition-all duration-200"),"aria-label":"Search pages","aria-expanded":i&&d.length>0,"aria-haspopup":"listbox",role:"combobox"}),r&&(0,s.jsx)("button",{onClick:()=>{var e;o(""),c([]),n(!1),null==(e=b.current)||e.focus()},className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-[#E60076] transition-colors","aria-label":"Clear search",children:(0,s.jsx)(Y.A,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})})]}),(0,s.jsx)(C.N,{children:i&&d.length>0&&(0,s.jsx)(P.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:N("absolute top-full left-0 right-0 mt-2 z-50","bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl","border border-gray-200/50 dark:border-gray-700/50","rounded-lg shadow-lg","max-h-80 overflow-y-auto"),role:"listbox",children:d.map((e,t)=>(0,s.jsx)(P.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*t},onClick:()=>g(e.href),className:N("px-4 py-3 cursor-pointer transition-all duration-150","border-b border-gray-100/50 dark:border-gray-800/50 last:border-b-0",u===t?"bg-[#E60076]/10 dark:bg-[#E60076]/20 text-[#E60076]":"hover:bg-gray-50/50 dark:hover:bg-gray-800/50 text-gray-700 dark:text-gray-300"),role:"option","aria-selected":u===t,children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(G.A,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-sm",children:((e,t)=>{if(!t)return e;let r=RegExp("(".concat(t,")"),"gi");return e.split(r).map((e,t)=>r.test(e)?(0,s.jsx)("span",{className:"bg-[#E60076]/20 text-[#E60076] font-medium",children:e},t):e)})(e.label,r)}),(0,s.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.href})]})]})},e.href))})}),(0,s.jsx)(C.N,{children:i&&r&&0===d.length&&(0,s.jsx)(P.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:N("absolute top-full left-0 right-0 mt-2 z-50","bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl","border border-gray-200/50 dark:border-gray-700/50","rounded-lg shadow-lg","px-4 py-6 text-center"),children:(0,s.jsxs)("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:['No pages found for "',r,'"']})})})]})}var Q=r(40283),V=r(79323);function Z(e){var t;let{onToggleSidebar:r,sidebarOpen:o,isMobile:i}=e,n=(0,l.useRouter)(),{user:d,userRole:c}=(0,Q.A)();if("/signin"===(0,l.usePathname)())return null;let[u,m]=(0,a.useState)(!1),[h,x]=(0,a.useState)(!1),[b,g]=(0,a.useState)([]),[p,f]=(0,a.useState)([]),[v,y]=(0,a.useState)(!1),[w,k]=(0,a.useState)(!1),E=(0,a.useRef)(null),j=(0,a.useRef)(null);(0,a.useRef)(null),(0,a.useEffect)(()=>{let e="dark"===(localStorage.getItem("theme")||"light");k(e),document.documentElement.classList.toggle("dark",e)},[]),(0,a.useEffect)(()=>{let e=()=>m(window.scrollY>10);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,a.useEffect)(()=>{let e=e=>{E.current&&!E.current.contains(e.target)&&x(!1),j.current&&!j.current.contains(e.target)&&y(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[h,v]);let S=async e=>{e.preventDefault(),e.stopPropagation(),x(!1);try{console.log("\uD83D\uDD10 Navbar: Starting sign out process...");let{error:e}=await (0,V.BP)();e?(console.error("\uD83D\uDD10 Navbar: Sign out error:",e),alert("Error signing out: "+e)):(console.log("\uD83D\uDD10 Navbar: Sign out successful, redirecting to signin..."),localStorage.removeItem("theme"),n.push("/signin"))}catch(e){console.error("\uD83D\uDD10 Navbar: Unexpected sign out error:",e),alert("Error signing out: "+e)}};return(0,s.jsx)(P.P.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.23,.86,.39,.96]},className:N("fixed top-0 left-0 right-0 z-40 transition-all duration-300 ease-out","bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border-b border-[#E60076]/30 dark:border-[#E60076]/40",u?"shadow-lg":"shadow-sm",i?"ml-0":o?"ml-50":"ml-14"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-14 px-4 sm:px-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[r&&(0,s.jsx)("button",{onClick:r,className:"p-2 rounded-lg bg-[#E60076]/10 dark:bg-[#E60076]/20 hover:bg-[#E60076]/20 dark:hover:bg-[#E60076]/30 transition-colors",title:"Toggle Sidebar",type:"button",children:(0,s.jsx)(T.A,{className:"w-4 h-4 text-[#E60076] dark:text-[#E60076]"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("h1",{className:"text-sm font-semibold text-[#E60076] dark:text-gray-200",children:"Mirrors"}),(0,s.jsxs)("div",{className:"text-[10px] text-gray-600 dark:text-gray-400 hidden sm:block",children:["Welcome to"," ",(0,s.jsx)("span",{className:N("relative bg-gradient-to-r from-[#E60076] via-[#E60076] to-[#E60076] text-transparent bg-clip-text",H().className),children:"Your Salon"})]})]})]}),(0,s.jsx)("div",{className:"flex-1 max-w-md mx-4 hidden md:block",children:(0,s.jsx)(K,{})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,s.jsxs)("div",{className:"relative",ref:j,children:[(0,s.jsxs)("button",{onClick:()=>y(!v),className:"relative p-2 rounded-lg bg-[#E60076]/10 dark:bg-[#E60076]/20 hover:bg-[#E60076]/20 dark:hover:bg-[#E60076]/30 transition-colors",children:[(0,s.jsx)(B.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#E60076] dark:text-[#E60076]"}),(p.length>0||b.length>0)&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-red-500 rounded-full"})]}),v&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-64 sm:w-80 bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border border-[#E60076]/30 dark:border-[#E60076]/40 rounded-xl shadow-lg z-50",children:[(0,s.jsx)("div",{className:"p-3 border-b border-[#E60076]/20 dark:border-[#E60076]/40",children:(0,s.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-300",children:"Notifications"})}),0===b.length?(0,s.jsx)("div",{className:"p-3 text-xs text-gray-500 dark:text-gray-400",children:"No new notifications"}):(0,s.jsx)("ul",{className:"max-h-60 overflow-y-auto",children:b.map(e=>(0,s.jsx)("li",{className:"px-3 py-2 text-xs ".concat("booking"===e.type?"text-[#E60076] dark:text-[#E60076]":"text-blue-700 dark:text-blue-300"," hover:bg-gray-50 dark:hover:bg-gray-800/40 cursor-pointer border-b border-gray-100 dark:border-gray-700/40 last:border-b-0"),children:e.message},e.id))})]})]}),(0,s.jsx)("div",{className:"relative flex items-center",ref:E,children:d?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>x(!h),className:"flex items-center space-x-2 px-2 sm:px-3 py-1.5 rounded-lg border border-[#E60076]/40    bg-[#E60076]/10 dark:bg-[#E60076]/20 hover:bg-[#E60076]/20 dark:hover:bg-[#E60076]/30    shadow-sm transition-colors",children:[(0,s.jsx)("div",{className:"h-6 w-6 rounded-full bg-gradient-to-br from-[#E60076]/20 to-[#E60076]/30    flex items-center justify-center border border-[#E60076]/50",children:(0,s.jsx)(F.A,{className:"h-3.5 w-3.5 text-[#E60076]"})}),(0,s.jsx)("span",{className:"hidden sm:inline text-xs font-medium text-gray-900 dark:text-gray-200 max-w-24 truncate",children:d.displayName||d.email})]}),h&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-52 bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl    border border-[#E60076]/30 dark:border-[#E60076]/40 rounded-xl shadow-lg z-50",children:[(0,s.jsxs)("div",{className:"p-3 border-b border-[#E60076]/20 dark:border-[#E60076]/40",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-900 dark:text-gray-200 truncate",children:d.displayName||(null==(t=d.email)?void 0:t.split("@")[0])}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:d.email}),c&&(0,s.jsx)("span",{className:"inline-block mt-1 px-2 py-0.5 text-[10px] font-medium bg-[#E60076]/10 dark:bg-[#E60076]/30 text-[#E60076] dark:text-[#E60076] rounded-full",children:c.role})]}),(0,s.jsxs)("div",{className:"p-1",children:[(0,s.jsx)("button",{onClick:()=>{x(!1),n.push("/profile")},className:"w-full text-left px-3 py-2 text-xs text-gray-700 dark:text-gray-300 hover:bg-[#E60076]/5 dark:hover:bg-[#E60076]/20 rounded-lg transition-colors",children:"Profile Settings"}),(0,s.jsx)("button",{onClick:S,className:"w-full text-left px-3 py-2 text-xs text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:"Sign Out"})]})]})]}):(0,s.jsxs)("button",{onClick:()=>n.push("/signin"),className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg border border-[#E60076]/40    bg-[#E60076]/10 dark:bg-[#E60076]/20 hover:bg-[#E60076]/20 dark:hover:bg-[#E60076]/30    shadow-sm transition-colors",children:[(0,s.jsx)(U.A,{className:"h-4 w-4 text-[#E60076] dark:text-[#E60076]"}),(0,s.jsx)("span",{className:"hidden sm:inline text-xs font-medium text-gray-900 dark:text-gray-200",children:"Sign In"})]})})]})]})})}function $(e){let{children:t}=e,{user:r,loading:o}=(0,Q.A)(),i=(0,l.useRouter)(),[n,d]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{d(!0)},[]),(0,a.useEffect)(()=>{!n||o||r||i.push("/signin")},[r,o,i,n]),!n||o)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:(0,s.jsxs)("div",{className:"text-center p-12 bg-white/90 backdrop-blur-md rounded-3xl shadow-2xl border border-white/50",children:[(0,s.jsx)("div",{className:"relative mb-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-20 w-20 border-4 border-blue-200 border-t-blue-600 mx-auto"})}),(0,s.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent mb-4",children:"Authenticating"}),(0,s.jsx)("p",{className:"text-gray-600 font-medium text-lg mb-4",children:"Verifying your access..."})]})}):r?(0,s.jsx)(s.Fragment,{children:t}):null}function J(e){let{children:t}=e,r=(0,l.usePathname)(),[o,i]=(0,a.useState)(!1),[n,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>{let e=window.innerWidth<768;if(u(e),e)i(!1);else{let e=localStorage.getItem("sidebar-collapsed");d(!!e&&"true"===e)}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let m=()=>{c&&o&&i(!1)};return"/test"===r?t:(0,s.jsx)(Q.O,{children:"/signin"===r||"/test"===r?t:(0,s.jsx)($,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-white",children:[c&&o&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300",onClick:m,style:{touchAction:"none"}}),(0,s.jsx)(Z,{onToggleSidebar:()=>{c?i(e=>!e):d(e=>{let t=!e;return localStorage.setItem("sidebar-collapsed",t.toString()),t})},sidebarOpen:c?o:!n,isMobile:c}),(0,s.jsx)(_,{collapsed:n,setCollapsed:d,isMobile:c,isOpen:o,onClose:m}),(0,s.jsx)("main",{className:"\n                transition-all duration-300 ease-out \n                pt-16 pb-4 px-1\n                sm:pt-16 sm:pb-6 sm:px-2\n                md:pt-16 md:pb-6 md:px-4\n                ".concat(c?"ml-0":n?"ml-14":"ml-50","\n              "),children:(0,s.jsx)("div",{className:"content-container max-w-full",children:t})})]})})})}}},e=>{e.O(0,[9897,7690,5191,9135,7210,1748,9051,4114,9323,8441,5964,7358],()=>e(e.s=51750)),_N_E=e.O()}]);