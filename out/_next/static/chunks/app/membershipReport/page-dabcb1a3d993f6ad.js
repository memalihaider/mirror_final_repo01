(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1245],{17580:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},28883:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},33109:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},35424:(e,t,s)=>{Promise.resolve().then(s.bind(s,82704))},56104:(e,t,s)=>{"use strict";s.d(t,{AU:()=>x,Gg:()=>p,IG:()=>m,db:()=>o,j2:()=>h});var a=s(23915),i=s(71906),r=s(35317),l=s(77505),n=s(24903);let d={apiKey:"AIzaSyBYQA66rKOPrb4kce-hYCTYAbGKanVGbZ8",authDomain:"mirrorsbeautylounge-7c5ff.firebaseapp.com",projectId:"mirrorsbeautylounge-7c5ff",storageBucket:"mirrorsbeautylounge-7c5ff.firebasestorage.app",messagingSenderId:"1029530532506",appId:"1:1029530532506:web:2fa18cc521b2524e5afd23",measurementId:"G-GMWQSDP9JW"},c=null,o=null,m=null,h=null;function x(){if(!c)try{c=(0,a.initializeApp)(d),o=(0,r.aU)(c),m=(0,l.c7)(c),h=(0,n.getAuth)(c);try{(0,i.P5)(c)}catch(e){console.warn("Firebase Analytics initialization failed:",e)}}catch(e){console.error("Firebase initialization failed:",e),h=null}}function p(){return null!==c}x()},69037:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},69074:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},71007:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},82704:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(95155),i=s(12115),r=s(35317),l=s(56104),n=s(38274),d=s(33109),c=s(91788),o=s(69037),m=s(17580);let h=(0,s(19946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var x=s(71007),p=s(28883),y=s(69074);function u(){let[e,t]=(0,i.useState)([]),[s,u]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let e=(0,r.rJ)(l.db,"userMemberships"),s=(0,r.P)(e,(0,r.My)("createdAt","desc")),a=(0,r.aQ)(s,e=>{t(e.docs.map(e=>({id:e.id,...e.data()}))),u(!1)});return()=>a()},[]);let g=e.length,b=new Set(e.map(e=>e.userId)).size,j=new Set(e.map(e=>e.membershipName)).size;return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50",children:(0,a.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-r from-pink-500 to-purple-600 rounded-xl shadow-lg",children:(0,a.jsx)(d.A,{className:"w-8 h-8 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Membership Reports"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Track and analyze user membership achievements"})]})]}),(0,a.jsx)("div",{className:"flex space-x-3",children:(0,a.jsxs)("button",{onClick:()=>{if(0===e.length)return void alert("No data to export");let t=new Blob([["User Name,Email,Membership,Achieved At,Created At",...e.map(e=>{var t,s;return[e.userName||"Unknown User",e.userEmail,e.membershipName,(null==(t=e.achievedAt)?void 0:t.toDate)?e.achievedAt.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",(null==(s=e.createdAt)?void 0:s.toDate)?e.createdAt.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"]}).map(e=>e.map(e=>'"'.concat(e,'"')).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),a=URL.createObjectURL(t);s.setAttribute("href",a),s.setAttribute("download","membership-reports-".concat(new Date().toISOString().split("T")[0],".csv")),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},disabled:s||0===e.length,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg hover:from-pink-600 hover:to-purple-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Export CSV"})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Total Memberships"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:g})]}),(0,a.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg",children:(0,a.jsx)(o.A,{className:"w-6 h-6 text-white"})})]})}),(0,a.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Unique Users"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:b})]}),(0,a.jsx)("div",{className:"p-3 bg-gradient-to-r from-green-500 to-green-600 rounded-lg",children:(0,a.jsx)(m.A,{className:"w-6 h-6 text-white"})})]})}),(0,a.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Membership Types"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:j})]}),(0,a.jsx)("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg",children:(0,a.jsx)(d.A,{className:"w-6 h-6 text-white"})})]})})]})]}),(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Membership Records"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Complete list of user memberships and achievements"})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:s?(0,a.jsxs)("div",{className:"p-16 flex flex-col items-center justify-center",children:[(0,a.jsx)(h,{className:"w-8 h-8 text-pink-600 animate-spin mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Loading membership reports..."})]}):0===e.length?(0,a.jsxs)("div",{className:"p-16 text-center",children:[(0,a.jsx)(o.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No membership reports yet"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Membership achievements will appear here once users start earning them."})]}):(0,a.jsxs)(n.P.table,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"min-w-full",children:[(0,a.jsx)("thead",{className:"bg-gradient-to-r from-pink-600 to-purple-600 text-white",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"User"})]})}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Email"})]})}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Membership"})]})}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Achieved At"})]})}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Created At"})]})})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-100",children:e.map((e,t)=>{var s,i,r,l;return(0,a.jsxs)(n.P.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"hover:bg-gradient-to-r hover:from-pink-50 hover:to-purple-50 transition-all duration-200",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-semibold text-sm",children:(null==(i=e.userName||e.userEmail)||null==(s=i[0])?void 0:s.toUpperCase())||"U"})}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:e.userName||"Unknown User"})})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"text-gray-700",children:e.userEmail})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gradient-to-r from-pink-100 to-purple-100 text-pink-800 border border-pink-200",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-1"}),e.membershipName]})}),(0,a.jsx)("td",{className:"px-6 py-4 text-gray-600",children:(null==(r=e.achievedAt)?void 0:r.toDate)?e.achievedAt.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}),(0,a.jsx)("td",{className:"px-6 py-4 text-gray-600",children:(null==(l=e.createdAt)?void 0:l.toDate)?e.createdAt.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"})]},e.id)})})]})})]})]})})}},91788:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])}},e=>{e.O(0,[9135,7210,1748,9051,8441,5964,7358],()=>e(e.s=35424)),_N_E=e.O()}]);