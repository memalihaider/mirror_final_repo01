(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5426],{931:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var i=s(95155),a=s(12115),r=s(40283),n=s(35695);function o(e){let{children:t}=e,{userRole:s,loading:o}=(0,r.A)(),l=(0,n.usePathname)(),c=(0,n.useRouter)(),[d,m]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{if(!o&&s){let e=l.split("/")[1]||"dashboard",t=s.accessPages||[];"admin"===s.role||t.includes(e)?m(!0):(m(!1),c.replace("/access-denied"))}},[o,s,l,c]),o||!s)?(0,i.jsxs)("div",{className:"flex justify-center items-center h-screen",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-600"}),(0,i.jsx)("span",{className:"ml-3 text-pink-600",children:"Checking access..."})]}):d?(0,i.jsx)(i.Fragment,{children:t}):null}},9771:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=(0,s(19946).A)("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]])},15273:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=(0,s(19946).A)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]])},19946:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var i=s(12115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,i.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:m,...u}=e;return(0,i.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:s,strokeWidth:l?24*Number(o)/Number(a):o,className:r("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...m.map(e=>{let[t,s]=e;return(0,i.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),l=(e,t)=>{let s=(0,i.forwardRef)((s,n)=>{let{className:l,...c}=s;return(0,i.createElement)(o,{ref:n,iconNode:t,className:r("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...c})});return s.displayName=a(e),s}},23861:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=(0,s(19946).A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},35695:(e,t,s)=>{"use strict";var i=s(18999);s.o(i,"usePathname")&&s.d(t,{usePathname:function(){return i.usePathname}}),s.o(i,"useRouter")&&s.d(t,{useRouter:function(){return i.useRouter}})},40283:(e,t,s)=>{"use strict";s.d(t,{A:()=>l,O:()=>c});var i=s(95155),a=s(12115),r=s(79323),n=s(56104);let o=(0,a.createContext)({user:null,userRole:null,loading:!0,isAdmin:!1,error:null,accessiblePages:[],canAccessPage:()=>!1}),l=()=>(0,a.useContext)(o),c=e=>{let{children:t}=e,[s,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[m,u]=(0,a.useState)(!0),[g,h]=(0,a.useState)(null),[b,x]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e,t=!0;return(async()=>{try{u(!0),await (0,n.AU)(),e=(0,r.Bh)(async e=>{if(t){if(l(e),h(null),e)try{let s=await (0,r.uG)(e.uid);if(!s&&e.email){let t="ahmadxeikh786@gmail.com"===e.email?"admin":"user";await (0,r.yS)(e.uid,e.email,t,e.displayName||void 0,[]),s=await (0,r.uG)(e.uid)}(null==s?void 0:s.role)!=="admin"&&"ahmadxeikh786@gmail.com"===e.email&&(await (0,r.yS)(e.uid,e.email,"admin",e.displayName||void 0,[]),s=await (0,r.uG)(e.uid)),t&&(d(s),x((null==s?void 0:s.accessPages)||[]))}catch(e){console.error("Error getting user role:",e),t&&h("Failed to load user role")}else t&&(d(null),x([]));t&&u(!1)}})}catch(e){console.error("Firebase initialization error:",e),t&&(h("Failed to initialize authentication"),u(!1))}})(),()=>{t=!1,e&&e()}},[]);let p=(null==c?void 0:c.role)==="admin";return(0,i.jsx)(o.Provider,{value:{user:s,userRole:c,loading:m,isAdmin:p,error:g,accessiblePages:b,canAccessPage:e=>!!c&&("admin"===c.role||b.includes(e))},children:t})}},40646:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=(0,s(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},54861:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=(0,s(19946).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},60402:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var i=s(95155),a=s(12115),r=s(35317),n=s(56104),o=s(40646),l=s(54861),c=s(19946);let d=(0,c.A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var m=s(23861),u=s(15273),g=s(9771);function h(){let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)(!1),[h,b]=(0,a.useState)(0),[x,p]=(0,a.useState)(null),[y,f]=(0,a.useState)(!0),v=(0,a.useRef)(null),N=(0,a.useRef)([]);(0,a.useEffect)(()=>(v.current=new Audio("/notification.mp3"),v.current.volume=.3,()=>{N.current.forEach(e=>e())}),[]);let j=(e,s,i)=>{let a={id:Date.now().toString(),test:e,status:s,message:i,timestamp:new Date};t(e=>[...e,a])},k=async()=>{j("Audio System","RUNNING","Testing notification sound...");try{if(!v.current)return void j("Audio System","ERROR","Audio element not initialized");let e=v.current.play();void 0!==e?(await e,j("Audio System","PASS","Notification sound played successfully")):j("Audio System","FAIL","Audio play method returned undefined")}catch(e){j("Audio System","ERROR","Audio test failed: ".concat(e instanceof Error?e.message:"Unknown error"))}},w=async()=>{j("Firebase Listener","RUNNING","Setting up Firebase listener...");try{if(!n.db)return void j("Firebase Listener","ERROR","Firebase not initialized");let e=(0,r.rJ)(n.db,"bookings"),t=(0,r.P)(e,(0,r.My)("createdAt","desc")),s=!1,i=(0,r.aQ)(t,e=>{s=!0,b(e=>e+1),e.docChanges().forEach(e=>{if("added"===e.type||"modified"===e.type){let t=e.doc.data();p({type:e.type,id:e.doc.id,customerName:t.customerName,services:t.services,timestamp:new Date}),y&&v.current&&(v.current.currentTime=0,v.current.play().catch(console.error))}})},e=>{j("Firebase Listener","ERROR","Listener error: ".concat(e instanceof Error?e.message:"Unknown error"))});N.current.push(i),setTimeout(()=>{s?j("Firebase Listener","PASS","Firebase listener working correctly"):j("Firebase Listener","FAIL","Firebase listener not receiving data")},2e3)}catch(e){j("Firebase Listener","ERROR","Firebase setup failed: ".concat(e instanceof Error?e.message:"Unknown error"))}},A=async()=>{j("Create Test Booking","RUNNING","Creating test booking...");try{if(!n.db)return void j("Create Test Booking","ERROR","Firebase not initialized");let e={userId:"test-user-".concat(Date.now()),customerName:"Test Customer ".concat(Math.floor(1e3*Math.random())),services:[{serviceName:"Notification Test Service",category:"Testing",duration:30,price:0,quantity:1}],bookingDate:new Date,bookingTime:"10:00",branch:"Test Branch",staff:"Test Staff",totalPrice:0,totalDuration:30,status:"upcoming",paymentMethod:"cash",emailConfirmation:!1,smsConfirmation:!1,createdAt:(0,r.O5)(),updatedAt:(0,r.O5)(),remarks:"Notification system test booking"},t=(0,r.rJ)(n.db,"bookings");await (0,r.gS)(t,e),j("Create Test Booking","PASS","Test booking created successfully")}catch(e){j("Create Test Booking","ERROR","Failed to create test booking: ".concat(e instanceof Error?e.message:"Unknown error"))}},S=async()=>{if(!x||!x.id)return void j("Update Test Booking","ERROR","No test booking available to update");j("Update Test Booking","RUNNING","Updating test booking...");try{if(!n.db)return void j("Update Test Booking","ERROR","Firebase not initialized");let e=(0,r.H9)(n.db,"bookings",x.id);await (0,r.mZ)(e,{services:[{serviceName:"UPDATED Test Service",category:"Updated Testing",duration:45,price:100,quantity:1}],totalPrice:100,totalDuration:45,updatedAt:(0,r.O5)(),remarks:"Updated notification system test booking"}),j("Update Test Booking","PASS","Test booking updated successfully")}catch(e){j("Update Test Booking","ERROR","Failed to update test booking: ".concat(e instanceof Error?e.message:"Unknown error"))}},C=async()=>{c(!0),t([]),b(0),p(null),j("Test Suite","RUNNING","Starting notification system tests..."),await k(),await new Promise(e=>setTimeout(e,1e3)),await w(),await new Promise(e=>setTimeout(e,2e3)),await A(),await new Promise(e=>setTimeout(e,3e3)),await S(),await new Promise(e=>setTimeout(e,2e3)),j("Test Suite","PASS","All tests completed"),c(!1)};return(0,i.jsx)("div",{className:"p-6 max-w-4xl mx-auto",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(m.A,{className:"w-6 h-6 text-blue-600"}),(0,i.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Notification System Tester"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("button",{onClick:()=>f(!y),className:"flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ".concat(y?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[y?(0,i.jsx)(u.A,{className:"w-4 h-4"}):(0,i.jsx)(g.A,{className:"w-4 h-4"}),"Sound ",y?"ON":"OFF"]}),(0,i.jsx)("button",{onClick:C,disabled:s,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Running Tests...":"Run All Tests"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Notifications Received"}),(0,i.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:h})]}),(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Last Notification"}),(0,i.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:x?x.type.toUpperCase():"None"})]}),(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Test Status"}),(0,i.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:s?"Running...":"Ready"})]})]}),x&&(0,i.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Last Notification Details"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium text-blue-700",children:"Type:"})," ",x.type]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium text-blue-700",children:"Customer:"})," ",x.customerName]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium text-blue-700",children:"Time:"})," ",x.timestamp.toLocaleTimeString()]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium text-blue-700",children:"ID:"})," ",x.id.substring(0,8),"..."]})]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Test Results"}),0===e.length?(0,i.jsx)("div",{className:"text-gray-500 text-center py-8",children:'No tests run yet. Click "Run All Tests" to start testing.'}):e.map(e=>(0,i.jsx)("div",{className:"p-4 rounded-lg border ".concat((e=>{switch(e){case"PASS":return"bg-green-50 border-green-200 text-green-800";case"FAIL":return"bg-red-50 border-red-200 text-red-800";case"ERROR":return"bg-red-100 border-red-300 text-red-900";case"RUNNING":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}})(e.status)),children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(e=>{switch(e){case"PASS":return(0,i.jsx)(o.A,{className:"w-4 h-4 text-green-500"});case"FAIL":return(0,i.jsx)(l.A,{className:"w-4 h-4 text-red-500"});case"ERROR":return(0,i.jsx)(d,{className:"w-4 h-4 text-red-600"});case"RUNNING":return(0,i.jsx)("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"});default:return null}})(e.status),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-semibold",children:e.test}),(0,i.jsx)("div",{className:"text-sm opacity-75",children:e.message})]})]}),(0,i.jsx)("div",{className:"text-xs opacity-75",children:e.timestamp.toLocaleTimeString()})]})},e.id))]}),(0,i.jsxs)("div",{className:"mt-8 bg-yellow-50 rounded-lg p-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-yellow-800 mb-3",children:"Manual Testing Checklist"}),(0,i.jsxs)("div",{className:"space-y-2 text-sm text-yellow-700",children:[(0,i.jsx)("div",{children:"✓ Create a new booking from the bookings page"}),(0,i.jsx)("div",{children:"✓ Edit an existing booking and change service details"}),(0,i.jsx)("div",{children:"✓ Check if notifications appear in the header"}),(0,i.jsx)("div",{children:"✓ Verify notification sounds play (if enabled)"}),(0,i.jsx)("div",{children:"✓ Test on both mobile and desktop"}),(0,i.jsx)("div",{children:"✓ Check cross-browser compatibility"})]})]})]})})}let b=(0,c.A)("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),x=(0,c.A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),p=(0,c.A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),y=(0,c.A)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);function f(){let[e,t]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),[d,m]=(0,a.useState)(null),u=async()=>{if(!n.db)return void alert("Firebase not initialized");t(!0);try{let e={userId:"mobile-user-".concat(Date.now()),customerName:"Mobile Customer ".concat(Math.floor(1e3*Math.random())),services:[{serviceName:"Mobile App Service",category:"Mobile Category",duration:45,price:120,quantity:1}],bookingDate:new Date,bookingTime:"14:30",branch:"Mobile Branch",staff:"Mobile Staff",totalPrice:120,totalDuration:45,status:"upcoming",paymentMethod:"mobile_payment",emailConfirmation:!0,smsConfirmation:!0,createdAt:(0,r.O5)(),updatedAt:(0,r.O5)(),remarks:"Created from mobile app simulation",source:"mobile_app"},t=(0,r.rJ)(n.db,"bookings"),s=await (0,r.gS)(t,e);c(s.id),console.log("\uD83D\uDCF1 Mobile booking created:",s.id),alert("Mobile booking created! ID: ".concat(s.id))}catch(e){console.error("Error creating mobile booking:",e),alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{t(!1)}},g=async()=>{if(!n.db)return void alert("Firebase not initialized");t(!0);try{let e={userId:"firebase-system-".concat(Date.now()),customerName:"Firebase Customer ".concat(Math.floor(1e3*Math.random())),services:[{serviceName:"Firebase Function Service",category:"System Category",duration:60,price:200,quantity:1}],bookingDate:new Date,bookingTime:"16:00",branch:"System Branch",staff:"Auto-assigned Staff",totalPrice:200,totalDuration:60,status:"upcoming",paymentMethod:"system_payment",emailConfirmation:!1,smsConfirmation:!1,createdAt:(0,r.O5)(),updatedAt:(0,r.O5)(),remarks:"Created from Firebase function simulation",source:"firebase_function"},t=(0,r.rJ)(n.db,"bookings"),s=await (0,r.gS)(t,e);c(s.id),console.log("\uD83D\uDD25 Firebase booking created:",s.id),alert("Firebase booking created! ID: ".concat(s.id))}catch(e){console.error("Error creating Firebase booking:",e),alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{t(!1)}},h=async()=>{if(!n.db||!l)return void alert("No booking to update. Create a booking first.");o(!0);try{let e=(0,r.H9)(n.db,"bookings",l),t={services:[{serviceName:"UPDATED Service Name",category:"UPDATED Category",duration:90,price:250,quantity:1}],totalPrice:250,totalDuration:90,updatedAt:(0,r.O5)(),remarks:"Service updated via test simulation",lastUpdateSource:"test_simulation"};await (0,r.mZ)(e,t),console.log("\uD83D\uDCDD Booking updated:",l),alert("Booking updated! ID: ".concat(l))}catch(e){console.error("Error updating booking:",e),alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{o(!1)}},f=async()=>{if(!n.db)return void alert("Firebase not initialized");t(!0);try{let e={name:"Test Service ".concat(Math.floor(1e3*Math.random())),category:"Test Category",duration:45,price:150,description:"Service added via notification testing",active:!0,branch:"Test Branch",createdAt:(0,r.O5)(),updatedAt:(0,r.O5)(),source:"notification_test"},t=(0,r.rJ)(n.db,"services"),s=await (0,r.gS)(t,e);m(s.id),console.log("\uD83D\uDEE0️ Service created:",s.id),alert("Service created! ID: ".concat(s.id))}catch(e){console.error("Error creating service:",e),alert("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{t(!1)}};return(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-2xl mx-auto",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,i.jsx)(b,{className:"w-6 h-6 text-blue-600"}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Firebase Notification Tester"})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,i.jsx)("h3",{className:"font-semibold text-yellow-800 mb-2",children:"\uD83E\uDDEA Test Scenarios"}),(0,i.jsx)("p",{className:"text-sm text-yellow-700",children:"These tests simulate bookings and services being created/updated from different sources. Watch the notification debugger (bottom-right corner) and browser console for results."})]}),(0,i.jsxs)("div",{className:"border border-blue-200 rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,i.jsx)(x,{className:"w-5 h-5 text-blue-600"}),(0,i.jsx)("h3",{className:"font-semibold text-gray-800",children:"Mobile App Simulation"})]}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Simulates a booking being created from a mobile application"}),(0,i.jsx)("button",{onClick:u,disabled:e,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg transition-colors",children:e?"Creating...":"Create Mobile Booking"})]}),(0,i.jsxs)("div",{className:"border border-orange-200 rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,i.jsx)(p,{className:"w-5 h-5 text-orange-600"}),(0,i.jsx)("h3",{className:"font-semibold text-gray-800",children:"Firebase Function Simulation"})]}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Simulates a booking being created by a Firebase Cloud Function or backend service"}),(0,i.jsx)("button",{onClick:g,disabled:e,className:"bg-orange-600 hover:bg-orange-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg transition-colors",children:e?"Creating...":"Create Firebase Booking"})]}),(0,i.jsxs)("div",{className:"border border-green-200 rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,i.jsx)(y,{className:"w-5 h-5 text-green-600"}),(0,i.jsx)("h3",{className:"font-semibold text-gray-800",children:"Service Update Simulation"})]}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Updates the most recently created booking's service details"}),(0,i.jsx)("button",{onClick:h,disabled:s||!l,className:"bg-green-600 hover:bg-green-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg transition-colors",children:s?"Updating...":"Update Last Booking"}),l&&(0,i.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Will update booking: ",l]})]}),(0,i.jsxs)("div",{className:"border border-purple-200 rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,i.jsx)(b,{className:"w-5 h-5 text-purple-600"}),(0,i.jsx)("h3",{className:"font-semibold text-gray-800",children:"New Service Simulation"})]}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Adds a new service to the services collection"}),(0,i.jsx)("button",{onClick:f,disabled:e,className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg transition-colors",children:e?"Creating...":"Add New Service"})]}),(0,i.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"\uD83D\uDCCB How to Test:"}),(0,i.jsxs)("ol",{className:"text-sm text-gray-600 space-y-1 list-decimal list-inside",children:[(0,i.jsx)("li",{children:"Open the notification debugger (blue bell icon in bottom-right)"}),(0,i.jsx)("li",{children:'Click "Start Listening" in the debugger'}),(0,i.jsx)("li",{children:"Run any of the test scenarios above"}),(0,i.jsx)("li",{children:"Check the debugger for real-time events"}),(0,i.jsx)("li",{children:"Listen for notification sounds"}),(0,i.jsx)("li",{children:"Check browser console for detailed logs"})]})]})]})]})}var v=s(931);function N(){return(0,i.jsx)(v.A,{children:(0,i.jsx)("div",{className:"min-h-screen bg-gray-100 py-8",children:(0,i.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Notification System Testing Suite"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Comprehensive tools to test and debug the notification system"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDD27 System Tests"}),(0,i.jsx)(h,{})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCF1 Firebase & Mobile Tests"}),(0,i.jsx)(f,{})]})]}),(0,i.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"\uD83D\uDCA1 Testing Instructions"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-700",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-semibold mb-2",children:"Step 1: Enable Debugger"}),(0,i.jsxs)("ul",{className:"space-y-1 list-disc list-inside",children:[(0,i.jsx)("li",{children:"Click the blue bell icon (bottom-right)"}),(0,i.jsx)("li",{children:'Click "Start Listening" in debugger'}),(0,i.jsx)("li",{children:"Enable sound in debugger if desired"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-semibold mb-2",children:"Step 2: Run Tests"}),(0,i.jsxs)("ul",{className:"space-y-1 list-disc list-inside",children:[(0,i.jsx)("li",{children:'Use "System Tests" for audio/Firebase checks'}),(0,i.jsx)("li",{children:'Use "Firebase Tests" for mobile/backend simulation'}),(0,i.jsx)("li",{children:"Check browser console for detailed logs"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-semibold mb-2",children:"Step 3: Monitor Results"}),(0,i.jsxs)("ul",{className:"space-y-1 list-disc list-inside",children:[(0,i.jsx)("li",{children:"Green events = notifications triggered"}),(0,i.jsx)("li",{children:"Blue events = data changes detected"}),(0,i.jsx)("li",{children:"Listen for notification sounds"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-semibold mb-2",children:"Step 4: Real Tests"}),(0,i.jsxs)("ul",{className:"space-y-1 list-disc list-inside",children:[(0,i.jsx)("li",{children:"Create bookings from /bookings page"}),(0,i.jsx)("li",{children:"Edit existing booking services"}),(0,i.jsx)("li",{children:"Check cross-platform sync"})]})]})]})]})]})})})}},72332:(e,t,s)=>{Promise.resolve().then(s.bind(s,60402))}},e=>{e.O(0,[9135,7210,1748,9323,8441,5964,7358],()=>e(e.s=72332)),_N_E=e.O()}]);