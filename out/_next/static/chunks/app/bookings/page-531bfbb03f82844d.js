(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8407],{26950:(e,t,a)=>{Promise.resolve().then(a.bind(a,84853))},71007:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},84853:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var s=a(95155),r=a(12115),l=a(931),i=a(78064),n=a(26597),o=a(85055),d=a(35317),c=a(56104);a(81586);var m=a(69074),u=a(84616),x=a(14186),h=a(4516),g=a(40646),p=a(47924),b=a(85339),v=a(54861),f=a(71007),j=a(62525),N=a(59836),y=a(3898);let w=["Al Bustan","Marina","TECOM","AL Muraqabat","IBN Batutta Mall"],k=["Facial","Hair","Nails","Lashes","Massage"],S=["cash","card"],C=["Komal","Shameem","Do Thi Kim","Alishba"],D={serviceId:"",serviceName:"",category:"",duration:30,price:0,quantity:1};function A(e){let[t,a]=e.split(":"),s=Number(t),r=s>=12?"PM":"AM";return 0===s&&(s=12),s>12&&(s-=12),"".concat(s,":").concat(a," ").concat(r)}let E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1440,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,s=[];for(let r=e;r<=t;r+=a)s.push(function(e){let t=Math.floor(e/60).toString().padStart(2,"0"),a=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(a)}(r));return s}();function M(){var e,t,a;let[M,P]=(0,r.useState)([]),[T,I]=(0,r.useState)({}),[q,B]=(0,r.useState)(!0),[G,L]=(0,r.useState)(""),[U,O]=(0,r.useState)("all"),[F,z]=(0,r.useState)(!1),[J,_]=(0,r.useState)(!1),[H,R]=(0,r.useState)(!1),[W,Q]=(0,r.useState)(null),[K,$]=(0,r.useState)(!1),[Z,V]=(0,r.useState)(null),[X,Y]=(0,r.useState)(w[0]),[ee,et]=(0,r.useState)(()=>(0,N.GP)(new Date,"yyyy-MM-dd")),[ea,es]=(0,r.useState)("10:00"),[er,el]=(0,r.useState)(""),[ei,en]=(0,r.useState)("cash"),[eo,ed]=(0,r.useState)(!1),[ec,em]=(0,r.useState)(!1),[eu,ex]=(0,r.useState)("upcoming"),[eh,eg]=(0,r.useState)(""),[ep,eb]=(0,r.useState)([{...D}]),[ev,ef]=(0,r.useState)(""),[ej,eN]=(0,r.useState)(""),[ey,ew]=(0,r.useState)(1),[ek,eS]=(0,r.useState)(new Date().toISOString().split("T")[0]),[eC,eD]=(0,r.useState)("all"),[eA,eE]=(0,r.useState)([]),eM=async()=>{try{let e=(0,d.rJ)(c.db,"services"),t=(await (0,d.GG)(e)).docs.map(e=>({id:e.id,...e.data()}));eE(t)}catch(e){console.error("Error fetching services:",e)}};(0,r.useEffect)(()=>{eM()},[]);let[eP,eT]=(0,r.useState)([]),eI=Array.from(new Set(E.map(e=>e.split(":")[0]))).sort((e,t)=>Number(e)-Number(t)),[eq,eB]=(0,r.useState)(()=>{let e={};return eI.forEach(t=>e[t]=!0),e});(0,r.useEffect)(()=>{(async()=>{try{let e=await (0,d.GG)((0,d.rJ)(c.db,"staff")),t=[];e.forEach(e=>{let a=e.data();(null==a?void 0:a.name)&&t.push(String(a.name))}),eT(t.length?t:C)}catch(e){eT(C)}})()},[]),(0,r.useEffect)(()=>{let e=(0,d.P)((0,d.rJ)(c.db,"bookings"),(0,d.My)("createdAt","desc")),t=(0,d.aQ)(e,e=>{P(e.docs.map(e=>{var t,a,s,r,l,i,n;let o,d=e.data();return o=(null==(t=d.bookingDate)?void 0:t.toDate)?d.bookingDate.toDate():"string"==typeof d.bookingDate?new Date(d.bookingDate):(null==(a=d.bookingDate)?void 0:a.seconds)?new Date(1e3*d.bookingDate.seconds):new Date,{id:e.id,userId:d.userId||"",customerName:d.customerName||"",services:d.services||[],bookingDate:o,bookingTime:d.bookingTime||"",branch:d.branch||"",staff:(null==(s=d.staff)?void 0:s.trim())||(null==(r=d.staffName)?void 0:r.trim())||"Unassigned",totalPrice:d.totalPrice||0,totalDuration:d.totalDuration||0,status:d.status||"upcoming",paymentMethod:d.paymentMethod||"cash",emailConfirmation:d.emailConfirmation||!1,smsConfirmation:d.smsConfirmation||!1,createdAt:(null==(l=d.createdAt)?void 0:l.toDate)?d.createdAt.toDate():new Date,updatedAt:(null==(i=d.updatedAt)?void 0:i.toDate)?d.updatedAt.toDate():new Date,remarks:null!=(n=d.remarks)?n:null,customerEmail:d.customerEmail||"",source:d.source||(d.bookingDate?"mobile":"web"),loyaltyPointsEarned:d.loyaltyPointsEarned||0,loyaltyPointsUsed:d.loyaltyPointsUsed||0,tipAmount:d.tipAmount||0,rawData:d}})),B(!1)});return()=>t()},[]),(0,r.useEffect)(()=>{(async()=>{let e=(0,d.rJ)(c.db,"services");eE((await (0,d.GG)(e)).docs.map(e=>({id:e.id,...e.data()})))})()},[]),(0,r.useEffect)(()=>{(async()=>{let e=(0,d.P)((0,d.rJ)(c.db,"users")),t=await (0,d.GG)(e),a={};t.docs.forEach(e=>{let t=e.data();a[e.id]={id:e.id,name:t.name||t.displayName||"Unknown User",email:t.email||"",phone:t.phone||t.phoneNumber||""}}),I(a)})()},[]);let eG=M.filter(e=>{let t=G.toLowerCase(),a=e.customerName.toLowerCase().includes(t)||e.branch.toLowerCase().includes(t)||e.services.some(e=>e.serviceName.toLowerCase().includes(t)),s="all"===U||e.status===U;return a&&s}),eL=async e=>{try{let t=e.userId||(0,o.A)();await (0,d.gS)((0,d.rJ)(c.db,"invoices"),{...e,userId:t,bookingId:e.id,createdAt:new Date}),console.log("Invoice saved to Firebase with userId:",t)}catch(e){console.error("Error saving invoice:",e)}},eU=()=>{Y(w[0]),et((0,N.GP)(new Date,"yyyy-MM-dd")),es("10:00"),el(""),en("cash"),ed(!1),em(!1),ex("upcoming"),eg(""),eb([{...D}]),ef(""),Q(null),eN("")},eO=(e,t)=>{eq[t.split(":")[0]]&&(eU(),eg(e),es(t),et(ek),z(!0))},eF=(e,t,a)=>{eb(s=>s.map((s,r)=>{if(r!==e)return s;if("serviceName"===t){let e=eA.find(e=>e.name===a);if(e)return{...s,serviceName:a,duration:e.duration||0,price:e.price||0,category:e.category||s.category}}return{...s,[t]:a}}))},ez={totalPrice:(a=ep).reduce((e,t)=>e+(Number(t.price)||0)*(Number(t.quantity)||0),0),totalDuration:a.reduce((e,t)=>e+(Number(t.duration)||0)*(Number(t.quantity)||0),0)},eJ=async()=>{let e=er.trim()?ee?ea?X?eh?0===ep.length?"Add at least one service":ep.every(e=>e.serviceName.trim().length>0)?eq[ea.split(":")[0]]?null:"Selected time falls into a disabled hour":"Each service must have a name":"Staff is required":"Branch is required":"Service time is required":"Service date is required":"Customer name is required";if(e)return void alert(e);try{_(!0);let e={userId:(0,o.A)(),customerName:er.trim(),services:ep.map(e=>({...e,price:Number(e.price)||0,duration:Number(e.duration)||0,quantity:Number(e.quantity)||0})),bookingDate:d.Dc.fromDate(new Date(ee+"T00:00:00")),bookingTime:ea,branch:X,customerEmail:ej.trim(),staff:eh||null,totalPrice:ez.totalPrice,totalDuration:ez.totalDuration,status:eu,paymentMethod:ei,emailConfirmation:eo,smsConfirmation:ec,updatedAt:(0,d.O5)(),remarks:ev||null};if(W){let t=(0,d.H9)(c.db,"bookings",W);await (0,d.mZ)(t,e)}else await (0,d.gS)((0,d.rJ)(c.db,"bookings"),{...e,createdAt:(0,d.O5)()});z(!1),eU()}catch(e){console.error("Error saving booking:",e),alert("Failed to save booking. Check console for details.")}finally{_(!1)}},e_=async()=>{if(W&&confirm("Delete this booking? This action cannot be undone."))try{R(!0),await (0,d.kd)((0,d.H9)(c.db,"bookings",W)),z(!1),eU()}catch(e){console.error("Error deleting booking:",e),alert("Failed to delete booking.")}finally{R(!1)}};(0,r.useMemo)(()=>{let e=new Date(ek+"T00:00:00");return M.filter(t=>{let a=(0,y.r)(t.bookingDate,e),s="all"===eC||t.branch===eC;return a&&s})},[M,ek,eC]),(0,r.useMemo)(()=>{let e={};return E.forEach(t=>{e[t]={},eP.forEach(a=>e[t][a]=[]),e[t].Unassigned=[]}),M.forEach(t=>{var a,s,r;let l;if(t.bookingDate instanceof Date)l=t.bookingDate;else if("string"==typeof t.bookingDate)l=new Date(t.bookingDate);else{if(null==(a=t.bookingDate)||!a.seconds)return void console.error("Invalid bookingDate:",t.bookingDate);l=new Date(1e3*t.bookingDate.seconds)}let i=(0,N.GP)(l,"yyyy-MM-dd")===ek,n="all"===eC||t.branch===eC,o=!!eq[null!=(r=null==(s=t.bookingTime)?void 0:s.split(":")[0])?r:""];if(!i||!n||!o)return;let d=t.bookingTime,c=t.staff&&eP.includes(t.staff)?t.staff:"Unassigned";e[d]||(e[d]={}),e[d][c]||(e[d][c]=[]),e[d][c].push(t)}),e},[M,ek,eC,eP,eq]);let eH=e=>{V(e),$(!0)},eR=async()=>{let e=document.getElementById("invoice-content");if(!e)return;let t=await (0,i.$E)(e,{cacheBust:!0}),a=new n.Ay({orientation:"p",unit:"mm",format:[150,180]}),s=140*e.offsetHeight/e.offsetWidth;a.addImage(t,"PNG",5,5,140,s),a.save("invoice_".concat((null==Z?void 0:Z.id)||Date.now(),".pdf")),await eL(Z)};return(new Date().toISOString().split("T")[0],q)?(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-600"}),(0,s.jsx)("span",{className:"ml-3 text-pink-600",children:"Loading bookings..."})]})})}):(0,s.jsx)(l.A,{children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"max-w-6xl mx-auto dark:text-white",children:[(0,s.jsxs)("div",{className:"relative mb-8 overflow-hidden rounded-2xl bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600 animate-gradient-x",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,s.jsx)("div",{className:"relative px-8 py-12",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-3 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 animate-float",children:(0,s.jsx)(m.A,{className:"w-8 h-8 text-white animate-pulse-slow"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl lg:text-5xl font-bold text-white mb-2 animate-fade-in",children:"Bookings Management"}),(0,s.jsx)("div",{className:"h-1 w-32 bg-gradient-to-r from-yellow-400 to-pink-400 rounded-full animate-slide-up"})]})]}),(0,s.jsx)("p",{className:"text-white/90 text-lg max-w-2xl leading-relaxed animate-fade-in-delay",children:"Streamline your appointment scheduling with our comprehensive booking management system. Track, organize, and optimize all customer appointments effortlessly."}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-white/80 text-sm animate-slide-down",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,s.jsx)("span",{children:"Real-time Updates"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),(0,s.jsx)("span",{children:"Multi-branch Support"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse"}),(0,s.jsx)("span",{children:"Smart Scheduling"})]})]})]}),(0,s.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 animate-float-delay",children:(0,s.jsxs)("button",{onClick:()=>{eU(),z(!0)},className:"group relative px-6 py-3 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 animate-bounce-gentle",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-600 to-teal-700 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,s.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,s.jsx)(u.A,{className:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300"}),(0,s.jsx)("span",{children:"Add Schedule"})]}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-xl bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-pulse"})]})})]})}),(0,s.jsx)("div",{className:"absolute top-4 right-4 w-20 h-20 bg-white/10 rounded-full animate-float"}),(0,s.jsx)("div",{className:"absolute bottom-4 left-4 w-16 h-16 bg-white/5 rounded-full animate-float-delay"}),(0,s.jsx)("div",{className:"absolute top-1/2 right-1/4 w-12 h-12 bg-white/5 rounded-full animate-bounce-subtle"})]}),(0,s.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-indigo-50 via-white to-purple-50 border border-white/20 shadow-xl backdrop-blur-sm p-6 mb-6 w-[1000px] animate-fade-in",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-pink-500/5"}),(0,s.jsx)("div",{className:"relative mb-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-xl bg-gradient-to-r from-indigo-500 to-purple-600 shadow-lg animate-float",children:(0,s.jsx)(x.A,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Schedule Controls"}),(0,s.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-indigo-200 via-purple-200 to-transparent"})]})}),(0,s.jsxs)("div",{className:"relative grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"group",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,s.jsx)(m.A,{className:"w-4 h-4 inline mr-1"}),"Schedule Date"]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"date",value:ek,onChange:e=>eS(e.target.value),className:"w-full px-4 py-3 bg-white/70 backdrop-blur-sm border border-white/30 rounded-xl focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 focus:bg-white/90 transition-all duration-300 shadow-lg hover:shadow-xl group-hover:scale-105"}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-blue-500/10 to-purple-500/10 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"})]})]}),(0,s.jsxs)("div",{className:"group",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,s.jsx)(h.A,{className:"w-4 h-4 inline mr-1"}),"Branch Location"]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{value:eC,onChange:e=>eD(e.target.value),className:"w-full appearance-none px-4 py-3 bg-gradient-to-r from-gray-800 to-gray-900 text-white rounded-xl border border-gray-600 focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all duration-300 shadow-lg hover:shadow-xl cursor-pointer group-hover:scale-105",children:[(0,s.jsx)("option",{value:"all",children:"All Branches"}),w.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)("div",{className:"p-1.5 rounded-lg bg-gradient-to-r from-amber-500 to-orange-600 shadow-md animate-pulse-slow",children:(0,s.jsx)(x.A,{className:"w-4 h-4 text-white"})}),(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Available Hours"}),(0,s.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-amber-200 to-transparent"})]}),(0,s.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-6 lg:grid-cols-8 gap-2",children:eI.map((e,t)=>(0,s.jsxs)("label",{className:"group relative cursor-pointer animate-fade-in-delay",style:{animationDelay:"".concat(50*t,"ms")},children:[(0,s.jsx)("input",{type:"checkbox",checked:!!eq[e],onChange:t=>eB(a=>({...a,[e]:t.target.checked})),className:"sr-only"}),(0,s.jsxs)("div",{className:"\n                        relative px-3 py-2 rounded-xl text-xs font-medium text-center transition-all duration-300 transform\n                        ".concat(eq[e]?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg scale-105 animate-bounce-gentle":"bg-white/60 text-gray-600 border border-gray-200 hover:bg-gray-50 hover:scale-105","\n                        group-hover:shadow-xl\n                      "),children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[eq[e]&&(0,s.jsx)(g.A,{className:"w-3 h-3 animate-spin-slow"}),(0,s.jsx)("span",{children:A("".concat(e,":00"))})]}),(0,s.jsx)("div",{className:"\n                          absolute -top-1 -right-1 w-3 h-3 rounded-full transition-all duration-300\n                          ".concat(eq[e]?"bg-green-400 animate-ping":"bg-gray-300 opacity-0 group-hover:opacity-100","\n                        ")})]})]},e))}),(0,s.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,s.jsx)("button",{onClick:()=>eB(Object.fromEntries(eI.map(e=>[e,!0]))),className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105 animate-fade-in-delay-2",children:"Enable All"}),(0,s.jsx)("button",{onClick:()=>eB(Object.fromEntries(eI.map(e=>[e,!1]))),className:"px-4 py-2 bg-gradient-to-r from-red-500 to-rose-600 text-white text-xs rounded-lg hover:from-red-600 hover:to-rose-700 transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105 animate-fade-in-delay-3",children:"Disable All"})]})]})]}),(0,s.jsx)("div",{className:"absolute top-2 right-2 w-16 h-16 bg-gradient-to-br from-indigo-400/20 to-purple-400/20 rounded-full animate-float-delay"}),(0,s.jsx)("div",{className:"absolute bottom-2 left-2 w-12 h-12 bg-gradient-to-br from-purple-400/20 to-pink-400/20 rounded-full animate-bounce-subtle"})]}),(0,s.jsxs)("div",{className:"relative mb-6 overflow-hidden rounded-2xl bg-gradient-to-br from-indigo-50 via-white to-purple-50 border border-white/20 shadow-xl backdrop-blur-sm w-[1000px] animate-fade-in",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-pink-500/5"}),(0,s.jsxs)("div",{className:"relative p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"p-2 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 shadow-lg animate-float",children:(0,s.jsx)(p.A,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Search & Filter"}),(0,s.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-blue-200 via-purple-200 to-transparent"})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(p.A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors duration-300"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by customer name, branch, or service...",value:G,onChange:e=>L(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/70 backdrop-blur-sm border border-white/30 rounded-xl focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 focus:bg-white/90 transition-all duration-300 placeholder-gray-500 shadow-lg hover:shadow-xl"}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-blue-500/10 to-purple-500/10 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"})]})}),(0,s.jsx)("div",{className:"md:w-48",children:(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsxs)("select",{value:U,onChange:e=>O(e.target.value),className:"w-full appearance-none bg-gradient-to-r from-gray-800 to-gray-900 text-white px-4 py-3 rounded-xl border border-gray-600 focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all duration-300 shadow-lg hover:shadow-xl cursor-pointer",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"upcoming",children:"Upcoming"}),(0,s.jsx)("option",{value:"past",children:"Past"}),(0,s.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})})]})]}),(0,s.jsx)("div",{className:"absolute top-2 right-2 w-16 h-16 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full animate-float-delay"}),(0,s.jsx)("div",{className:"absolute bottom-2 left-2 w-12 h-12 bg-gradient-to-br from-purple-400/20 to-pink-400/20 rounded-full animate-bounce-subtle"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8 w-[1000px]",children:[(0,s.jsxs)("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-50 via-white to-blue-100 border border-blue-200/50 shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 animate-fade-in",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-cyan-500/5"}),(0,s.jsx)("div",{className:"relative p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300 animate-float",children:(0,s.jsx)(m.A,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 group-hover:text-blue-700 transition-colors duration-300",children:"Total Bookings"}),(0,s.jsx)("p",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent animate-pulse-slow",children:M.length})]})]})}),(0,s.jsx)("div",{className:"absolute top-2 right-2 w-12 h-12 bg-gradient-to-br from-blue-400/20 to-cyan-400/20 rounded-full animate-bounce-subtle"})]}),(0,s.jsxs)("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-green-50 via-white to-emerald-100 border border-green-200/50 shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 animate-fade-in-delay",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/5 to-emerald-500/5"}),(0,s.jsx)("div",{className:"relative p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300 animate-float-delay",children:(0,s.jsx)(g.A,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 group-hover:text-green-700 transition-colors duration-300",children:"Upcoming"}),(0,s.jsx)("p",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent animate-pulse-slow",children:M.filter(e=>"upcoming"===e.status).length})]})]})}),(0,s.jsx)("div",{className:"absolute top-2 right-2 w-12 h-12 bg-gradient-to-br from-green-400/20 to-emerald-400/20 rounded-full animate-bounce-subtle"})]}),(0,s.jsxs)("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-amber-50 via-white to-yellow-100 border border-amber-200/50 shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 animate-fade-in-delay-2",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500/5 to-yellow-500/5"}),(0,s.jsx)("div",{className:"relative p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-3 bg-gradient-to-r from-amber-500 to-yellow-600 rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300 animate-float",children:(0,s.jsx)(b.A,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 group-hover:text-amber-700 transition-colors duration-300",children:"Past"}),(0,s.jsx)("p",{className:"text-3xl font-bold bg-gradient-to-r from-amber-600 to-yellow-600 bg-clip-text text-transparent animate-pulse-slow",children:M.filter(e=>"past"===e.status).length})]})]})}),(0,s.jsx)("div",{className:"absolute top-2 right-2 w-12 h-12 bg-gradient-to-br from-amber-400/20 to-yellow-400/20 rounded-full animate-bounce-subtle"})]}),(0,s.jsxs)("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-red-50 via-white to-rose-100 border border-red-200/50 shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 animate-fade-in-delay-3",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/5 to-rose-500/5"}),(0,s.jsx)("div",{className:"relative p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-3 bg-gradient-to-r from-red-500 to-rose-600 rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300 animate-float-delay",children:(0,s.jsx)(v.A,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 group-hover:text-red-700 transition-colors duration-300",children:"Cancelled"}),(0,s.jsx)("p",{className:"text-3xl font-bold bg-gradient-to-r from-red-600 to-rose-600 bg-clip-text text-transparent animate-pulse-slow",children:M.filter(e=>"cancelled"===e.status).length})]})]})}),(0,s.jsx)("div",{className:"absolute top-2 right-2 w-12 h-12 bg-gradient-to-br from-red-400/20 to-rose-400/20 rounded-full animate-bounce-subtle"})]})]}),(0,s.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-slate-50 via-white to-gray-100 border border-white/20 shadow-2xl backdrop-blur-sm mb-10 w-[1000px] animate-fade-in",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/5 via-purple-500/5 to-pink-500/5"}),(0,s.jsxs)("div",{className:"relative p-6 border-b border-gray-200/50 bg-gradient-to-r from-gray-50 to-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-xl bg-gradient-to-r from-indigo-500 to-purple-600 shadow-lg animate-float",children:(0,s.jsx)(m.A,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Schedule Board"}),(0,s.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-indigo-200 via-purple-200 to-transparent"})]}),(0,s.jsx)("div",{className:"absolute top-2 right-2 w-12 h-12 bg-gradient-to-br from-indigo-400/20 to-purple-400/20 rounded-full animate-bounce-subtle"})]}),(0,s.jsxs)("div",{className:"relative overflow-x-auto",children:[(0,s.jsx)("div",{className:"min-w-[900px] relative",children:(0,s.jsxs)("div",{className:"grid sticky top-0 z-20",style:{gridTemplateColumns:"180px repeat(".concat(eP.length,", 200px)")},children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 text-white border-b border-gray-600 px-4 py-4 font-bold sticky left-0 z-30 shadow-lg",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"w-4 h-4"}),"Time"]})}),eP.map((e,t)=>(0,s.jsx)("div",{className:"bg-gradient-to-r ".concat(t%2==0?"from-blue-500 to-indigo-600":"from-purple-500 to-pink-600"," text-white border-b border-white/20 px-4 py-4 font-bold text-center shadow-lg animate-fade-in-delay"),style:{animationDelay:"".concat(100*t,"ms")},children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)(f.A,{className:"w-4 h-4"}),e]})},e))]})}),(0,s.jsx)("div",{children:E.map(e=>{let t=!!eq[e.split(":")[0].padStart(2,"0")];return(0,s.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"180px repeat(".concat(eP.length,", 200px)")},children:[(0,s.jsx)("div",{className:"sticky left-0 z-10 bg-gray-50 border-t border-b px-4 py-3 font-medium",children:A(e)}),eP.map(a=>{let r=new Date(ek).toISOString().split("T")[0],l=M.filter(t=>{let s=new Date(t.bookingDate).toISOString().split("T")[0],l=e=>{if(!e)return"";let[t,a]=e.split(":");a||(a="00");let s=e.toLowerCase(),r=s.includes("pm"),l=s.includes("am"),i=parseInt(t=t.replace(/\D/g,""),10);return r&&12!==i&&(i+=12),l&&12===i&&(i=0),"".concat(i.toString().padStart(2,"0"),":").concat(a.substring(0,2))},i=l(t.bookingTime),n=l(e);return(!t.staff||t.staff===a)&&s===r&&i===n});return(0,s.jsx)("div",{className:"border-t border-b border-l px-2 py-2 min-h-[64px] ".concat(t?"":"bg-gray-50 opacity-70 pointer-events-none"),onClick:s=>{t&&0===l.length&&eO(a,e)},children:(0,s.jsxs)("div",{className:"space-y-2",children:[l.map(e=>(0,s.jsxs)("button",{onClick:t=>{t.stopPropagation(),Q(e.id),Y(e.branch||w[0]),et((0,N.GP)(e.bookingDate,"yyyy-MM-dd")),es(e.bookingTime||"10:00"),el(e.customerName||""),en(e.paymentMethod||"cash"),ed(!!e.emailConfirmation),em(!!e.smsConfirmation),ex(e.status||"upcoming"),eg(e.staff||""),eb(e.services&&e.services.length>0?e.services.map(e=>({serviceId:e.serviceId||"",serviceName:e.serviceName||"",category:e.category||"",duration:Number(e.duration)||0,price:Number(e.price)||0,quantity:Number(e.quantity)||1})):[{...D}]),ef(e.remarks||""),eN(e.customerEmail||""),z(!0)},className:"w-full text-left text-xs rounded-md border px-2 py-2 hover:shadow transition ".concat((e=>{switch(e){case"upcoming":return"bg-emerald-50 border-emerald-300 text-emerald-800";case"past":return"bg-gray-50 border-gray-300 text-gray-700";case"cancelled":return"bg-rose-50 border-rose-300 text-rose-800 line-through";default:return"bg-slate-50 border-slate-300 text-slate-800"}})(e.status)),title:"".concat(e.customerName," @ ").concat(e.bookingTime),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("div",{className:"font-semibold truncate",children:e.customerName}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),eH(e)},className:"text-xs px-2 py-0.5 rounded bg-indigo-100 text-indigo-700",title:"Generate Invoice",children:"Invoice"}),(0,s.jsx)("span",{className:"text-[11px] opacity-80",children:A(e.bookingTime)})]})]}),(0,s.jsx)("div",{className:"truncate text-[12px]",children:e.services.map(e=>e.serviceName).join(", ")}),(0,s.jsxs)("div",{className:"flex items-center text-[11px] opacity-80 mt-1",children:[(0,s.jsx)(x.A,{className:"w-3 h-3 mr-1"}),A(e.bookingTime)," • ",e.totalDuration,"m"]})]},e.id)),0===l.length&&t&&(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)("button",{className:"text-[11px] text-emerald-700 hover:text-emerald-900 underline",onClick:()=>eO(a,e),children:"Add here"})}),0===l.length&&!t&&(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-400",children:"Disabled"})]})},"".concat(e,"-").concat(a))})]},e)})})]})]}),0===eG.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(m.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,s.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No bookings found"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:G||"all"!==U?"Try adjusting your search or filter criteria.":"No bookings have been made yet."})]})]}),F&&(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 z-50 overflow-y-auto h-full w-full",children:(0,s.jsx)("div",{className:"relative top-10 mx-auto w-11/12 md:w-4/5 lg:w-3/4 xl:w-2/3",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl border",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:W?"Edit Schedule":"Add Schedule"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[W&&(0,s.jsxs)("button",{onClick:e_,disabled:H,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md text-white bg-red-600 hover:bg-red-700 disabled:opacity-60",title:"Delete booking",children:[(0,s.jsx)(j.A,{className:"w-4 h-4"}),"Delete"]}),W&&(0,s.jsx)("button",{onClick:()=>{let e=M.find(e=>e.id===W);e&&eH(e)},className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md text-white bg-indigo-600 hover:bg-indigo-700",title:"Generate Invoice",children:"Invoice"}),(0,s.jsx)("button",{onClick:()=>{z(!1),eU()},className:"text-gray-400 hover:text-gray-600",title:"Close",children:(0,s.jsx)(v.A,{className:"w-6 h-6"})})]})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Branch"}),(0,s.jsx)("select",{className:"mt-1 w-full border rounded-md px-3 py-2",value:X,onChange:e=>Y(e.target.value),children:w.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Customer Email"}),(0,s.jsx)("input",{type:"email",placeholder:"Customer email",className:"mt-1 w-full border rounded-md px-3 py-2",value:ej,onChange:e=>eN(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,s.jsxs)("select",{className:"mt-1 w-full border rounded-md px-3 py-2",onChange:e=>{eb(t=>t.map((t,a)=>0===a?{...t,category:e.target.value}:t))},children:[(0,s.jsx)("option",{value:"",children:"Select One"}),Array.from(new Set(eA.map(e=>e.category))).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Staff"}),(0,s.jsxs)("select",{className:"mt-1 w-full border rounded-md px-3 py-2",value:eh,onChange:e=>eg(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select One"}),eP.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),(0,s.jsx)("select",{className:"mt-1 w-full border rounded-md px-3 py-2",value:ei,onChange:e=>en(e.target.value),children:S.map(e=>(0,s.jsx)("option",{value:e,children:e.toUpperCase()},e))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Service Date"}),(0,s.jsx)("input",{type:"date",className:"mt-1 w-full border rounded-md px-3 py-2",value:ee,onChange:e=>et(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Time Slot"}),(0,s.jsx)("select",{className:"mt-1 w-full border rounded-md px-3 py-2",value:ea,onChange:e=>es(e.target.value),children:E.filter(e=>!!eq[e.split(":")[0]]).map(e=>(0,s.jsx)("option",{value:e,children:A(e)},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Customer"}),(0,s.jsx)("input",{type:"text",placeholder:"Customer name",className:"mt-1 w-full border rounded-md px-3 py-2",value:er,onChange:e=>el(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"border rounded-lg",children:[(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-2 px-4 py-3 bg-gray-50 text-xs font-semibold",children:[(0,s.jsx)("div",{className:"col-span-4",children:"Service"}),(0,s.jsx)("div",{className:"col-span-2",children:"Category"}),(0,s.jsx)("div",{className:"col-span-2",children:"Duration (min)"}),(0,s.jsx)("div",{className:"col-span-2",children:"Price"}),(0,s.jsx)("div",{className:"col-span-1",children:"Qty"}),(0,s.jsx)("div",{className:"col-span-1 text-right",children:"—"})]}),ep.map((e,t)=>(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-2 px-4 py-3 border-t",children:[(0,s.jsx)("div",{className:"col-span-4",children:(0,s.jsxs)("select",{className:"w-full border rounded-md px-3 py-2",value:e.serviceName,onChange:e=>eF(t,"serviceName",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select a service"}),eA.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.id))]})}),(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsxs)("select",{className:"w-full border rounded-md px-3 py-2",value:e.category,onChange:e=>eF(t,"category",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),k.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsx)("input",{type:"number",min:0,className:"w-full border rounded-md px-3 py-2",value:e.duration,onChange:e=>eF(t,"duration",Number(e.target.value||0))})}),(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsx)("input",{type:"number",min:0,step:"0.01",className:"w-full border rounded-md px-3 py-2",value:e.price,onChange:e=>eF(t,"price",Number(e.target.value||0))})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)("input",{type:"number",min:1,className:"w-full border rounded-md px-3 py-2",value:e.quantity,onChange:e=>eF(t,"quantity",Number(e.target.value||1))})}),(0,s.jsx)("div",{className:"col-span-1 flex justify-end items-center",children:ep.length>1&&(0,s.jsx)("button",{onClick:()=>{eb(e=>e.filter((e,a)=>a!==t))},className:"p-2 rounded hover:bg-red-50 text-red-600",title:"Remove",children:(0,s.jsx)(j.A,{className:"w-4 h-4"})})})]},t)),(0,s.jsxs)("div",{className:"px-4 py-3 border-t flex justify-between items-center",children:[(0,s.jsxs)("button",{onClick:()=>{eb(e=>[...e,{...D}])},className:"inline-flex items-center gap-2 px-3 py-2 rounded-md bg-emerald-50 text-emerald-700 hover:bg-emerald-100",children:[(0,s.jsx)(u.A,{className:"w-4 h-4"}),"Add more service"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,s.jsxs)("span",{className:"mr-4",children:[(0,s.jsx)("strong",{children:"Total Duration:"})," ",ez.totalDuration," min"]}),(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:"Total Price:"})," $",ez.totalPrice.toFixed(2)]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Remarks (optional)"}),(0,s.jsx)("textarea",{className:"mt-1 w-full border rounded-md px-3 py-2 min-h-[80px]",value:ev,onChange:e=>ef(e.target.value)})]}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Application Status"}),(0,s.jsxs)("select",{className:"mt-1 w-full border rounded-md px-3 py-2",value:eu,onChange:e=>ex(e.target.value),children:[(0,s.jsx)("option",{value:"upcoming",children:"Approved (Upcoming)"}),(0,s.jsx)("option",{value:"past",children:"Completed (Past)"}),(0,s.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})})]})]}),(0,s.jsxs)("div",{className:"px-6 py-4 border-t flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:()=>{z(!1),eU()},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",disabled:J||H,children:"Close"}),(0,s.jsx)("button",{onClick:eJ,className:"px-4 py-2 text-sm font-medium text-white bg-emerald-600 rounded-md hover:bg-emerald-700 disabled:opacity-60",disabled:J||H,children:J?W?"Updating...":"Saving...":W?"Update":"Save"})]})]})})}),Z&&(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50 p-4 transition-opacity ".concat(K?"opacity-100 visible":"opacity-0 invisible"),children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl p-6 relative",children:[(0,s.jsx)("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",onClick:()=>$(!1),title:"Close",children:"✖"}),(0,s.jsxs)("div",{id:"invoice-content",className:"p-6 bg-white rounded-lg shadow-md",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-indigo-700",children:"Invoice Receipt"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Booking ID: ",Z.id]})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)("p",{className:"font-semibold",children:"MirrorBeautyLounge"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Customer:"})," ",Z.customerName]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Email:"})," ",Z.customerEmail||(null==(e=T[Z.userId])?void 0:e.email)||"N/A"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Phone:"})," ",(null==(t=T[Z.userId])?void 0:t.phone)||"-"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Branch:"})," ",Z.branch]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Date:"})," ",(0,N.GP)(Z.bookingDate,"dd MMM yyyy")]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Time:"})," ",A(Z.bookingTime)]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Staff:"})," ",Z.staff||"-"]})]})]}),(0,s.jsx)("div",{className:"overflow-hidden rounded border",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{className:"bg-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-3 text-left",children:"Service"}),(0,s.jsx)("th",{className:"p-3 text-center",children:"Qty"}),(0,s.jsx)("th",{className:"p-3 text-right",children:"Price"}),(0,s.jsx)("th",{className:"p-3 text-right",children:"Total"})]})}),(0,s.jsx)("tbody",{children:Z.services.slice((ey-1)*4,4*ey).map((e,t)=>(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"p-3",children:e.serviceName}),(0,s.jsx)("td",{className:"p-3 text-center",children:e.quantity}),(0,s.jsxs)("td",{className:"p-3 text-right",children:["AED ",Number(e.price).toFixed(2)]}),(0,s.jsxs)("td",{className:"p-3 text-right",children:["AED"," ",(Number(e.price)*Number(e.quantity)).toFixed(2)]})]},t))})]})}),(0,s.jsx)("div",{className:"mt-4 flex justify-end items-center gap-6",children:(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Subtotal"}),(0,s.jsxs)("div",{className:"text-xl font-bold text-indigo-700",children:["AED ",Number(Z.totalPrice).toFixed(2)]})]})}),(0,s.jsx)("div",{className:"mt-6 text-center text-sm text-gray-500",children:"Thank you for your booking! We look forward to serving you."})]}),(0,s.jsxs)("div",{className:"mt-4 flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:()=>$(!1),className:"px-4 py-2 bg-gray-100 rounded-md",children:"Close"}),(0,s.jsx)("button",{onClick:eR,className:"px-4 py-2 bg-pink-600 text-white rounded-md",children:"Download PDF"})]})]})}),Z&&Z.services&&(0,s.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,s.jsx)("button",{onClick:()=>ew(e=>Math.max(e-1,1)),disabled:1===ey,className:"px-4 py-2 rounded-md ".concat(1===ey?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"),children:"Previous"}),(0,s.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",ey," of"," ",Math.ceil(Z.services.length/4)]}),(0,s.jsx)("button",{onClick:()=>ew(e=>Math.min(e+1,Math.ceil(Z.services.length/4))),disabled:ey===Math.ceil(Z.services.length/4),className:"px-4 py-2 rounded-md ".concat(ey===Math.ceil(Z.services.length/4)?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"),children:"Next"})]})]})})}}},e=>{e.O(0,[9135,7210,3930,5033,1748,6007,7324,4860,9323,931,8441,5964,7358],()=>e(e.s=26950)),_N_E=e.O()}]);